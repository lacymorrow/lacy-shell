{"time":"2025-08-13T21:31:05.80827-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders","file":"github.com/lacymorrow/lash/internal/config/provider.go","line":99},"msg":"Using cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-13T21:31:05.811117-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders.func1","file":"github.com/lacymorrow/lash/internal/config/provider.go","line":103},"msg":"Updating provider cache in background"}
{"time":"2025-08-13T21:31:05.957738-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.saveProvidersInCache","file":"github.com/lacymorrow/lash/internal/config/provider.go","line":48},"msg":"Saving cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-13T21:31:06.350616-04:00","level":"INFO","msg":"OK   20250424200609_initial.sql (1.15ms)"}
{"time":"2025-08-13T21:31:06.350977-04:00","level":"INFO","msg":"OK   20250515105448_add_summary_message_id.sql (293.92µs)"}
{"time":"2025-08-13T21:31:06.351208-04:00","level":"INFO","msg":"OK   20250624000000_add_created_at_indexes.sql (218.17µs)"}
{"time":"2025-08-13T21:31:06.351466-04:00","level":"INFO","msg":"OK   20250627000000_add_provider_to_messages.sql (249.17µs)"}
{"time":"2025-08-13T21:31:06.351472-04:00","level":"INFO","msg":"goose: successfully migrated database to version: 20250627000000"}
{"time":"2025-08-13T21:31:06.352274-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).initLSPClients","file":"github.com/lacymorrow/lash/internal/app/lsp.go","line":18},"msg":"LSP clients initialization started in background"}
{"time":"2025-08-13T21:31:06.3552-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"github.com/lacymorrow/lash/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-13T21:31:06.355585-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"github.com/lacymorrow/lash/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-13T21:31:06.355606-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"github.com/lacymorrow/lash/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-13T21:31:06.355937-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"github.com/lacymorrow/lash/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-17T00:32:10.515944-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders","file":"/Users/lacy/repo/lash/internal/config/provider.go","line":92},"msg":"Using cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-17T00:32:10.517623-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders.func1","file":"/Users/lacy/repo/lash/internal/config/provider.go","line":96},"msg":"Updating provider cache in background"}
{"time":"2025-08-17T00:32:10.963114-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.saveProvidersInCache","file":"/Users/lacy/repo/lash/internal/config/provider.go","line":41},"msg":"Saving cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-17T00:32:11.106025-04:00","level":"ERROR","source":{"function":"github.com/lacymorrow/lash/internal/db.Connect","file":"/Users/lacy/repo/lash/internal/db/connect.go","line":49},"msg":"Failed to set pragma","PRAGMA foreign_keys = ON;":"context canceled"}
{"time":"2025-08-17T00:32:11.106096-04:00","level":"ERROR","source":{"function":"github.com/lacymorrow/lash/internal/db.Connect","file":"/Users/lacy/repo/lash/internal/db/connect.go","line":49},"msg":"Failed to set pragma","PRAGMA journal_mode = WAL;":"context canceled"}
{"time":"2025-08-17T00:32:11.106117-04:00","level":"ERROR","source":{"function":"github.com/lacymorrow/lash/internal/db.Connect","file":"/Users/lacy/repo/lash/internal/db/connect.go","line":49},"msg":"Failed to set pragma","PRAGMA page_size = 4096;":"context canceled"}
{"time":"2025-08-17T00:32:11.106121-04:00","level":"ERROR","source":{"function":"github.com/lacymorrow/lash/internal/db.Connect","file":"/Users/lacy/repo/lash/internal/db/connect.go","line":49},"msg":"Failed to set pragma","PRAGMA cache_size = -8000;":"context canceled"}
{"time":"2025-08-17T00:32:11.106125-04:00","level":"ERROR","source":{"function":"github.com/lacymorrow/lash/internal/db.Connect","file":"/Users/lacy/repo/lash/internal/db/connect.go","line":49},"msg":"Failed to set pragma","PRAGMA synchronous = NORMAL;":"context canceled"}
{"time":"2025-08-17T00:32:11.108898-04:00","level":"INFO","msg":"goose: no migrations to run. current version: 20250627000000"}
{"time":"2025-08-17T00:32:11.108996-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).initLSPClients","file":"/Users/lacy/repo/lash/internal/app/lsp.go","line":22},"msg":"LSP clients initialization started in background"}
{"time":"2025-08-17T00:32:11.109639-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/repo/lash/internal/app/lsp.go","line":27},"msg":"Creating LSP client","name":"Go","command":"gopls","args":null}
{"time":"2025-08-17T00:32:11.109881-04:00","level":"ERROR","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/repo/lash/internal/app/lsp.go","line":35},"msg":"Failed to create LSP client","name":"Go","error":"failed to start LSP server: context canceled"}
{"time":"2025-08-17T00:32:11.11102-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":87},"msg":"Using Claude Code OAuth directly with Anthropic API","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:11.111068-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":101},"msg":"Setting OAuth headers","authorization":"Bearer sk-ant-oat01-UYb4jrn...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:11.111091-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":87},"msg":"Using Claude Code OAuth directly with Anthropic API","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:11.111096-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":101},"msg":"Setting OAuth headers","authorization":"Bearer sk-ant-oat01-UYb4jrn...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:11.111105-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":87},"msg":"Using Claude Code OAuth directly with Anthropic API","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:11.111109-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":101},"msg":"Setting OAuth headers","authorization":"Bearer sk-ant-oat01-UYb4jrn...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:11.111157-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-17T00:32:11.111261-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-17T00:32:11.112082-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":87},"msg":"Using Claude Code OAuth directly with Anthropic API","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:11.112156-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":101},"msg":"Setting OAuth headers","authorization":"Bearer sk-ant-oat01-UYb4jrn...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:11.112199-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":87},"msg":"Using Claude Code OAuth directly with Anthropic API","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:11.112219-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":101},"msg":"Setting OAuth headers","authorization":"Bearer sk-ant-oat01-UYb4jrn...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:11.112239-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":87},"msg":"Using Claude Code OAuth directly with Anthropic API","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:11.112256-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":101},"msg":"Setting OAuth headers","authorization":"Bearer sk-ant-oat01-UYb4jrn...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:11.112335-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/repo/lash/internal/app/app.go","line":221},"msg":"Running in non-interactive mode"}
{"time":"2025-08-17T00:32:11.112324-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-17T00:32:11.112401-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-17T00:32:44.645457-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders","file":"/Users/lacy/repo/lash/internal/config/provider.go","line":92},"msg":"Using cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-17T00:32:44.651491-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders.func1","file":"/Users/lacy/repo/lash/internal/config/provider.go","line":96},"msg":"Updating provider cache in background"}
{"time":"2025-08-17T00:32:44.919887-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.saveProvidersInCache","file":"/Users/lacy/repo/lash/internal/config/provider.go","line":41},"msg":"Saving cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-17T00:32:45.313415-04:00","level":"INFO","msg":"goose: no migrations to run. current version: 20250627000000"}
{"time":"2025-08-17T00:32:45.314275-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).initLSPClients","file":"/Users/lacy/repo/lash/internal/app/lsp.go","line":22},"msg":"LSP clients initialization started in background"}
{"time":"2025-08-17T00:32:45.314951-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/repo/lash/internal/app/lsp.go","line":27},"msg":"Creating LSP client","name":"Go","command":"gopls","args":null}
{"time":"2025-08-17T00:32:45.320309-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":87},"msg":"Using Claude Code OAuth directly with Anthropic API","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:45.320698-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":101},"msg":"Setting OAuth headers","authorization":"Bearer sk-ant-oat01-UYb4jrn...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:45.320734-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":87},"msg":"Using Claude Code OAuth directly with Anthropic API","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:45.32074-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":101},"msg":"Setting OAuth headers","authorization":"Bearer sk-ant-oat01-UYb4jrn...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:45.320751-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":87},"msg":"Using Claude Code OAuth directly with Anthropic API","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:45.320756-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":101},"msg":"Setting OAuth headers","authorization":"Bearer sk-ant-oat01-UYb4jrn...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:45.32262-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-17T00:32:45.323356-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-17T00:32:45.323645-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":87},"msg":"Using Claude Code OAuth directly with Anthropic API","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:45.323713-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":101},"msg":"Setting OAuth headers","authorization":"Bearer sk-ant-oat01-UYb4jrn...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:45.323807-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":87},"msg":"Using Claude Code OAuth directly with Anthropic API","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:45.323825-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":101},"msg":"Setting OAuth headers","authorization":"Bearer sk-ant-oat01-UYb4jrn...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:45.32385-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":87},"msg":"Using Claude Code OAuth directly with Anthropic API","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:45.323865-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":101},"msg":"Setting OAuth headers","authorization":"Bearer sk-ant-oat01-UYb4jrn...","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:45.32396-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-17T00:32:45.323998-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-17T00:32:45.323959-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/repo/lash/internal/app/app.go","line":221},"msg":"Running in non-interactive mode"}
{"time":"2025-08-17T00:32:45.325784-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/repo/lash/internal/app/app.go","line":257},"msg":"Created session for non-interactive run","session_id":"4bab46b7-3221-4dc2-9512-93ca38511495"}
{"time":"2025-08-17T00:32:45.329078-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/repo/lash/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"large"}
{"time":"2025-08-17T00:32:45.329251-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":309},"msg":"Retrieved model for API call","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"large"}
{"time":"2025-08-17T00:32:45.329257-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/repo/lash/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"large"}
{"time":"2025-08-17T00:32:45.329265-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":352},"msg":"Preparing Anthropic API request","model_id":"claude-sonnet-4-20250514","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:45.329739-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/repo/lash/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-17T00:32:45.329931-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":309},"msg":"Retrieved model for API call","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-17T00:32:45.329942-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/repo/lash/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-17T00:32:45.329948-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":352},"msg":"Preparing Anthropic API request","model_id":"claude-sonnet-4-20250514","provider_id":"anthropic-max"}
{"time":"2025-08-17T00:32:45.604282-04:00","level":"ERROR","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).processGeneration.func1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":381},"msg":"failed to generate title","error":"POST \"https://api.anthropic.com/v1/messages\": 400 Bad Request (Request-ID: req_011CSCf35UfZ6Yq4QoWTWdpT) {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"This credential is only authorized for use with Claude Code and cannot be used for other API requests.\"}}"}
{"time":"2025-08-17T00:32:45.849222-04:00","level":"ERROR","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).Run.func1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":355},"msg":"failed to process events: POST \"https://api.anthropic.com/v1/messages\": 400 Bad Request (Request-ID: req_011CSCf36ThAou5U4aGkvzbw) {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"This credential is only authorized for use with Claude Code and cannot be used for other API requests.\"}}"}
{"time":"2025-08-17T00:32:45.869313-04:00","level":"ERROR","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/repo/lash/internal/app/lsp.go","line":58},"msg":"Server failed to become ready","name":"Go","error":"timeout waiting for LSP server to be ready"}
{"time":"2025-08-17T17:41:57.986587-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders","file":"/Users/lacy/repo/lash/internal/config/provider.go","line":92},"msg":"Using cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-17T17:41:57.990125-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders.func1","file":"/Users/lacy/repo/lash/internal/config/provider.go","line":96},"msg":"Updating provider cache in background"}
{"time":"2025-08-17T17:41:58.443544-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.saveProvidersInCache","file":"/Users/lacy/repo/lash/internal/config/provider.go","line":41},"msg":"Saving cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-17T17:41:58.981878-04:00","level":"INFO","msg":"goose: no migrations to run. current version: 20250627000000"}
{"time":"2025-08-17T17:41:58.982143-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).initLSPClients","file":"/Users/lacy/repo/lash/internal/app/lsp.go","line":22},"msg":"LSP clients initialization started in background"}
{"time":"2025-08-17T17:41:58.982477-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/repo/lash/internal/app/lsp.go","line":27},"msg":"Creating LSP client","name":"Go","command":"gopls","args":null}
{"time":"2025-08-17T17:41:58.991317-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":125},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:41:58.991584-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":125},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:41:58.991599-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":125},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:41:58.991675-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-17T17:41:58.991853-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-17T17:41:58.993527-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":125},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:41:58.993596-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":125},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:41:58.993609-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":125},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:41:58.993645-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/repo/lash/internal/app/app.go","line":221},"msg":"Running in non-interactive mode"}
{"time":"2025-08-17T17:41:58.993637-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-17T17:41:58.993716-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-17T17:41:58.994498-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/repo/lash/internal/app/app.go","line":257},"msg":"Created session for non-interactive run","session_id":"cac1bae0-9387-4c52-bf18-03938ac2a35f"}
{"time":"2025-08-17T17:41:58.995341-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/repo/lash/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"large"}
{"time":"2025-08-17T17:41:58.99538-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"large"}
{"time":"2025-08-17T17:41:58.995387-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/repo/lash/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"large"}
{"time":"2025-08-17T17:41:58.995392-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":395},"msg":"Preparing Anthropic API request","model_id":"claude-sonnet-4-20250514","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:41:58.99553-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/repo/lash/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-17T17:41:58.995548-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-17T17:41:58.995556-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/repo/lash/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-17T17:41:58.995573-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":395},"msg":"Preparing Anthropic API request","model_id":"claude-sonnet-4-20250514","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:41:58.998174-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":61},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-17T17:41:58.999236-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":61},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-17T17:41:59.265335-04:00","level":"ERROR","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).processGeneration.func1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":381},"msg":"failed to generate title","error":"POST \"https://api.anthropic.com/v1/messages\": 400 Bad Request (Request-ID: req_011CSE1XD7QWhh7pe4WqW9Yk) {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"This credential is only authorized for use with Claude Code and cannot be used for other API requests.\"}}"}
{"time":"2025-08-17T17:41:59.510863-04:00","level":"ERROR","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).Run.func1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":355},"msg":"failed to process events: POST \"https://api.anthropic.com/v1/messages\": 400 Bad Request (Request-ID: req_011CSE1XE6wJi1GczU9qLXt8) {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"This credential is only authorized for use with Claude Code and cannot be used for other API requests.\"}}"}
{"time":"2025-08-17T17:41:59.56331-04:00","level":"ERROR","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/repo/lash/internal/app/lsp.go","line":58},"msg":"Server failed to become ready","name":"Go","error":"timeout waiting for LSP server to be ready"}
{"time":"2025-08-17T17:41:59.563365-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/repo/lash/internal/app/lsp.go","line":70},"msg":"LSP client initialized","name":"Go"}
{"time":"2025-08-17T17:42:35.91939-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders","file":"/Users/lacy/repo/lash/internal/config/provider.go","line":92},"msg":"Using cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-17T17:42:35.921491-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders.func1","file":"/Users/lacy/repo/lash/internal/config/provider.go","line":96},"msg":"Updating provider cache in background"}
{"time":"2025-08-17T17:42:36.356788-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.saveProvidersInCache","file":"/Users/lacy/repo/lash/internal/config/provider.go","line":41},"msg":"Saving cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-17T17:42:36.654703-04:00","level":"INFO","msg":"goose: no migrations to run. current version: 20250627000000"}
{"time":"2025-08-17T17:42:36.654791-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).initLSPClients","file":"/Users/lacy/repo/lash/internal/app/lsp.go","line":22},"msg":"LSP clients initialization started in background"}
{"time":"2025-08-17T17:42:36.654859-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/repo/lash/internal/app/lsp.go","line":27},"msg":"Creating LSP client","name":"Go","command":"gopls","args":null}
{"time":"2025-08-17T17:42:36.659632-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":125},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:42:36.659711-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":125},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:42:36.659724-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":125},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:42:36.659789-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-17T17:42:36.659948-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-17T17:42:36.661105-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":125},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:42:36.661171-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":125},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:42:36.661184-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":125},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:42:36.661217-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/repo/lash/internal/app/app.go","line":221},"msg":"Running in non-interactive mode"}
{"time":"2025-08-17T17:42:36.661208-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-17T17:42:36.661256-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-17T17:42:36.662214-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/repo/lash/internal/app/app.go","line":257},"msg":"Created session for non-interactive run","session_id":"97b5c956-8285-4fde-a6d0-1e01f96300f1"}
{"time":"2025-08-17T17:42:36.663653-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/repo/lash/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"large"}
{"time":"2025-08-17T17:42:36.663679-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"large"}
{"time":"2025-08-17T17:42:36.663685-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/repo/lash/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"large"}
{"time":"2025-08-17T17:42:36.66369-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":395},"msg":"Preparing Anthropic API request","model_id":"claude-sonnet-4-20250514","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:42:36.664788-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/repo/lash/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-17T17:42:36.664861-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-17T17:42:36.664876-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/repo/lash/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-17T17:42:36.664958-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":395},"msg":"Preparing Anthropic API request","model_id":"claude-sonnet-4-20250514","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:42:36.665379-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":61},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-17T17:42:36.666175-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":61},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-17T17:42:37.140389-04:00","level":"ERROR","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).processGeneration.func1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":381},"msg":"failed to generate title","error":"POST \"https://api.anthropic.com/v1/messages\": 400 Bad Request (Request-ID: req_011CSE1a14x2kSRHwHnqsRs5) {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"This credential is only authorized for use with Claude Code and cannot be used for other API requests.\"}}"}
{"time":"2025-08-17T17:42:37.18331-04:00","level":"ERROR","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).Run.func1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":355},"msg":"failed to process events: POST \"https://api.anthropic.com/v1/messages\": 400 Bad Request (Request-ID: req_011CSE1a13TPfc43oAzqBDLB) {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"This credential is only authorized for use with Claude Code and cannot be used for other API requests.\"}}"}
{"time":"2025-08-17T17:42:37.209436-04:00","level":"ERROR","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/repo/lash/internal/app/lsp.go","line":58},"msg":"Server failed to become ready","name":"Go","error":"timeout waiting for LSP server to be ready"}
{"time":"2025-08-17T17:42:37.209485-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/repo/lash/internal/app/lsp.go","line":70},"msg":"LSP client initialized","name":"Go"}
{"time":"2025-08-17T17:42:50.902844-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders","file":"/Users/lacy/repo/lash/internal/config/provider.go","line":92},"msg":"Using cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-17T17:42:50.903855-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders.func1","file":"/Users/lacy/repo/lash/internal/config/provider.go","line":96},"msg":"Updating provider cache in background"}
{"time":"2025-08-17T17:42:51.285153-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.saveProvidersInCache","file":"/Users/lacy/repo/lash/internal/config/provider.go","line":41},"msg":"Saving cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-17T17:42:51.74347-04:00","level":"INFO","msg":"goose: no migrations to run. current version: 20250627000000"}
{"time":"2025-08-17T17:42:51.743535-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).initLSPClients","file":"/Users/lacy/repo/lash/internal/app/lsp.go","line":22},"msg":"LSP clients initialization started in background"}
{"time":"2025-08-17T17:42:51.74361-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/repo/lash/internal/app/lsp.go","line":27},"msg":"Creating LSP client","name":"Go","command":"gopls","args":null}
{"time":"2025-08-17T17:42:51.748125-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":125},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:42:51.748217-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":125},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:42:51.74823-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":125},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:42:51.748276-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-17T17:42:51.748588-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-17T17:42:51.749597-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":125},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:42:51.749632-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":125},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:42:51.749656-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":125},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:42:51.749688-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/repo/lash/internal/app/app.go","line":221},"msg":"Running in non-interactive mode"}
{"time":"2025-08-17T17:42:51.749681-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-17T17:42:51.74976-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-17T17:42:51.750535-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/repo/lash/internal/app/app.go","line":257},"msg":"Created session for non-interactive run","session_id":"4a472d2d-dcb6-4c9a-ad4b-215867cf386e"}
{"time":"2025-08-17T17:42:51.751883-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/repo/lash/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-17T17:42:51.751921-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-17T17:42:51.751929-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/repo/lash/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-17T17:42:51.751935-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":395},"msg":"Preparing Anthropic API request","model_id":"claude-sonnet-4-20250514","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:42:51.751884-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/repo/lash/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"large"}
{"time":"2025-08-17T17:42:51.751981-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"large"}
{"time":"2025-08-17T17:42:51.751987-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/repo/lash/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"large"}
{"time":"2025-08-17T17:42:51.752-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":395},"msg":"Preparing Anthropic API request","model_id":"claude-sonnet-4-20250514","provider_id":"anthropic-max"}
{"time":"2025-08-17T17:42:51.752263-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":61},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-17T17:42:51.753079-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/repo/lash/internal/llm/provider/anthropic.go","line":61},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-17T17:42:52.308193-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/repo/lash/internal/app/lsp.go","line":65},"msg":"LSP server is ready","name":"Go"}
{"time":"2025-08-17T17:42:52.3084-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/repo/lash/internal/app/lsp.go","line":70},"msg":"LSP client initialized","name":"Go"}
{"time":"2025-08-17T17:42:52.310527-04:00","level":"ERROR","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).processGeneration.func1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":381},"msg":"failed to generate title","error":"POST \"https://api.anthropic.com/v1/messages\": 400 Bad Request (Request-ID: req_011CSE1b7rm8MZTsX9svMkCK) {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"This credential is only authorized for use with Claude Code and cannot be used for other API requests.\"}}"}
{"time":"2025-08-17T17:42:52.31078-04:00","level":"ERROR","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).Run.func1","file":"/Users/lacy/repo/lash/internal/llm/agent/agent.go","line":355},"msg":"failed to process events: POST \"https://api.anthropic.com/v1/messages\": 400 Bad Request (Request-ID: req_011CSE1b7sFguWWAZrznNkLn) {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"This credential is only authorized for use with Claude Code and cannot be used for other API requests.\"}}"}
{"time":"2025-08-17T17:42:52.310809-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).runWorkspaceWatcher","file":"/Users/lacy/repo/lash/internal/app/lsp.go","line":101},"msg":"Workspace watcher stopped","client":"Go"}
{"time":"2025-08-20T11:36:02.609409-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":92},"msg":"Using cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-20T11:36:02.612274-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":96},"msg":"Updating provider cache in background"}
{"time":"2025-08-20T11:36:02.697482-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.saveProvidersInCache","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":41},"msg":"Saving cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-20T11:36:03.41786-04:00","level":"INFO","msg":"goose: no migrations to run. current version: 20250627000000"}
{"time":"2025-08-20T11:36:03.418104-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).initLSPClients","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":22},"msg":"LSP clients initialization started in background"}
{"time":"2025-08-20T11:36:03.418449-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":27},"msg":"Creating LSP client","name":"Go","command":"gopls","args":null}
{"time":"2025-08-20T11:36:03.423225-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:03.423352-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:03.423523-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:03.423609-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":177},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-20T11:36:03.423726-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":179},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-20T11:36:03.425716-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:03.425783-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:03.425801-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:03.425847-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":177},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-20T11:36:03.425977-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":179},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-20T11:36:03.443773-04:00","level":"ERROR","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":50},"msg":"Initialize failed","name":"Go","error":"initialize failed: context canceled"}
{"time":"2025-08-20T11:36:33.802717-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":92},"msg":"Using cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-20T11:36:33.804701-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":96},"msg":"Updating provider cache in background"}
{"time":"2025-08-20T11:36:34.084093-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.saveProvidersInCache","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":41},"msg":"Saving cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-20T11:36:34.380605-04:00","level":"INFO","msg":"goose: no migrations to run. current version: 20250627000000"}
{"time":"2025-08-20T11:36:34.381445-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).initLSPClients","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":22},"msg":"LSP clients initialization started in background"}
{"time":"2025-08-20T11:36:34.381575-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":27},"msg":"Creating LSP client","name":"Go","command":"gopls","args":null}
{"time":"2025-08-20T11:36:34.386033-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:34.3862-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:34.386211-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:34.386526-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":177},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-20T11:36:34.386735-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":179},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-20T11:36:34.387671-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:34.387696-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:34.387705-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:34.387723-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/app.go","line":221},"msg":"Running in non-interactive mode"}
{"time":"2025-08-20T11:36:34.387716-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":177},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-20T11:36:34.387749-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":179},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-20T11:36:34.389157-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/app.go","line":257},"msg":"Created session for non-interactive run","session_id":"bc631fc8-8880-44e1-8dd6-2a390b049c5d"}
{"time":"2025-08-20T11:36:34.390252-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T11:36:34.390536-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T11:36:34.39055-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T11:36:34.390576-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-sonnet-4-20250514","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:34.392148-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T11:36:34.39217-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T11:36:34.392175-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T11:36:34.392181-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-opus-4-1-20250805","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:34.39294-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-20T11:36:34.39416-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-20T11:36:34.70023-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).shouldRetry","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":614},"msg":"OAuth token expired, refreshing","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:34.700857-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).shouldRetry","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":619},"msg":"OAuth token refreshed successfully"}
{"time":"2025-08-20T11:36:34.700876-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:34.700917-04:00","level":"WARN","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).stream.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":578},"msg":"Retrying due to rate limit","attempt":1,"max_retries":1}
{"time":"2025-08-20T11:36:34.70099-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T11:36:34.701008-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T11:36:34.701017-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T11:36:34.701026-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-opus-4-1-20250805","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:34.702832-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-20T11:36:34.770416-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).shouldRetry","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":614},"msg":"OAuth token expired, refreshing","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:34.770821-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).shouldRetry","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":619},"msg":"OAuth token refreshed successfully"}
{"time":"2025-08-20T11:36:34.770857-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:34.770889-04:00","level":"WARN","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).stream.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":578},"msg":"Retrying due to rate limit","attempt":1,"max_retries":1}
{"time":"2025-08-20T11:36:34.770918-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T11:36:34.77094-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T11:36:34.770956-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T11:36:34.770973-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-sonnet-4-20250514","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:34.771244-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-20T11:36:34.935246-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":65},"msg":"LSP server is ready","name":"Go"}
{"time":"2025-08-20T11:36:34.935399-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":70},"msg":"LSP client initialized","name":"Go"}
{"time":"2025-08-20T11:36:37.153353-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/app.go","line":293},"msg":"Non-interactive: run completed","session_id":"bc631fc8-8880-44e1-8dd6-2a390b049c5d"}
{"time":"2025-08-20T11:36:37.154341-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).runWorkspaceWatcher","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":101},"msg":"Workspace watcher stopped","client":"Go"}
{"time":"2025-08-20T11:36:44.461612-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":92},"msg":"Using cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-20T11:36:44.462702-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":96},"msg":"Updating provider cache in background"}
{"time":"2025-08-20T11:36:44.569198-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.saveProvidersInCache","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":41},"msg":"Saving cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-20T11:36:45.013956-04:00","level":"INFO","msg":"goose: no migrations to run. current version: 20250627000000"}
{"time":"2025-08-20T11:36:45.014013-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).initLSPClients","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":22},"msg":"LSP clients initialization started in background"}
{"time":"2025-08-20T11:36:45.014095-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":27},"msg":"Creating LSP client","name":"Go","command":"gopls","args":null}
{"time":"2025-08-20T11:36:45.017284-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:45.017317-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:45.017328-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:45.01737-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":177},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-20T11:36:45.017429-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":179},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-20T11:36:45.018694-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:45.018914-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:45.018931-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:45.018956-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/app.go","line":221},"msg":"Running in non-interactive mode"}
{"time":"2025-08-20T11:36:45.018958-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":177},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-20T11:36:45.018989-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":179},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-20T11:36:45.019575-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/app.go","line":257},"msg":"Created session for non-interactive run","session_id":"2f8a5d1f-322e-46d7-bcdb-bdb820fc510c"}
{"time":"2025-08-20T11:36:45.02027-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T11:36:45.020288-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T11:36:45.020294-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T11:36:45.0203-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-opus-4-1-20250805","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:45.020643-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T11:36:45.020658-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T11:36:45.020665-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T11:36:45.020671-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-sonnet-4-20250514","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:45.020786-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-20T11:36:45.021394-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-20T11:36:45.126009-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).shouldRetry","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":614},"msg":"OAuth token expired, refreshing","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:45.126138-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).shouldRetry","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":619},"msg":"OAuth token refreshed successfully"}
{"time":"2025-08-20T11:36:45.126148-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:45.126163-04:00","level":"WARN","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).stream.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":578},"msg":"Retrying due to rate limit","attempt":1,"max_retries":1}
{"time":"2025-08-20T11:36:45.126176-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T11:36:45.126185-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T11:36:45.126192-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T11:36:45.126198-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-sonnet-4-20250514","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:45.126276-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-20T11:36:45.132173-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).shouldRetry","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":614},"msg":"OAuth token expired, refreshing","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:45.132249-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).shouldRetry","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":619},"msg":"OAuth token refreshed successfully"}
{"time":"2025-08-20T11:36:45.132259-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:45.13227-04:00","level":"WARN","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).stream.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":578},"msg":"Retrying due to rate limit","attempt":1,"max_retries":1}
{"time":"2025-08-20T11:36:45.132308-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T11:36:45.132317-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T11:36:45.132327-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T11:36:45.132333-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-opus-4-1-20250805","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:45.133234-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-20T11:36:45.564413-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":65},"msg":"LSP server is ready","name":"Go"}
{"time":"2025-08-20T11:36:45.564542-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":70},"msg":"LSP client initialized","name":"Go"}
{"time":"2025-08-20T11:36:47.801039-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).processEvent","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":697},"msg":"Tool call started","toolCall":{"id":"toolu_016UxK21iYotYaTqi9vBd2z4","name":"view","input":"","type":"","finished":false}}
{"time":"2025-08-20T11:36:48.696762-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).processEvent","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":704},"msg":"Finished tool call","toolCall":{"id":"toolu_016UxK21iYotYaTqi9vBd2z4","name":"","input":"","type":"","finished":false}}
{"time":"2025-08-20T11:36:48.704251-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T11:36:48.704302-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T11:36:48.704313-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T11:36:48.704321-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-opus-4-1-20250805","provider_id":"anthropic-max"}
{"time":"2025-08-20T11:36:48.707883-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-20T11:36:51.018557-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).Cancel","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":246},"msg":"Request cancellation initiated","session_id":"2f8a5d1f-322e-46d7-bcdb-bdb820fc510c"}
{"time":"2025-08-20T11:36:51.018667-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).runWorkspaceWatcher","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":101},"msg":"Workspace watcher stopped","client":"Go"}
{"time":"2025-08-20T11:36:51.02184-04:00","level":"ERROR","source":{"function":"main.main.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/main.go","line":18},"msg":"Application terminated due to unhandled panic"}
{"time":"2025-08-20T15:17:00.639164-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":92},"msg":"Using cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-20T15:17:00.640894-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":96},"msg":"Updating provider cache in background"}
{"time":"2025-08-20T15:17:01.026154-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.saveProvidersInCache","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":41},"msg":"Saving cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-20T15:17:01.17471-04:00","level":"INFO","msg":"goose: no migrations to run. current version: 20250627000000"}
{"time":"2025-08-20T15:17:01.175288-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).initLSPClients","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":22},"msg":"LSP clients initialization started in background"}
{"time":"2025-08-20T15:17:01.175466-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":27},"msg":"Creating LSP client","name":"Go","command":"gopls","args":null}
{"time":"2025-08-20T15:17:01.179821-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:17:01.180042-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:17:01.180054-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:17:01.180118-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":177},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-20T15:17:01.180223-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":179},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-20T15:17:01.181481-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:17:01.181502-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:17:01.181509-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:17:01.181531-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/app.go","line":221},"msg":"Running in non-interactive mode"}
{"time":"2025-08-20T15:17:01.181529-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":177},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-20T15:17:01.181648-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":179},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-20T15:17:01.182659-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/app.go","line":257},"msg":"Created session for non-interactive run","session_id":"0fed898b-c1a1-4ed2-8a08-30a1fd2c5667"}
{"time":"2025-08-20T15:17:01.183434-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T15:17:01.183467-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T15:17:01.183473-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T15:17:01.183478-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-opus-4-1-20250805","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:17:01.183567-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T15:17:01.183577-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T15:17:01.183583-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T15:17:01.183587-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-sonnet-4-20250514","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:17:01.185217-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-20T15:17:01.186024-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-20T15:17:01.579049-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).shouldRetry","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":614},"msg":"OAuth token expired, refreshing","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:17:01.579527-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).shouldRetry","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":619},"msg":"OAuth token refreshed successfully"}
{"time":"2025-08-20T15:17:01.57956-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:17:01.579622-04:00","level":"WARN","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).stream.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":578},"msg":"Retrying due to rate limit","attempt":1,"max_retries":1}
{"time":"2025-08-20T15:17:01.579652-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T15:17:01.579673-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T15:17:01.579686-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T15:17:01.5797-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-sonnet-4-20250514","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:17:01.579864-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-20T15:17:01.604826-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).shouldRetry","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":614},"msg":"OAuth token expired, refreshing","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:17:01.604963-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).shouldRetry","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":619},"msg":"OAuth token refreshed successfully"}
{"time":"2025-08-20T15:17:01.604988-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:17:01.605014-04:00","level":"WARN","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).stream.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":578},"msg":"Retrying due to rate limit","attempt":1,"max_retries":1}
{"time":"2025-08-20T15:17:01.605093-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T15:17:01.605102-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T15:17:01.605109-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T15:17:01.605116-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-opus-4-1-20250805","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:17:01.606117-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-20T15:17:01.792948-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":65},"msg":"LSP server is ready","name":"Go"}
{"time":"2025-08-20T15:17:01.79312-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":70},"msg":"LSP client initialized","name":"Go"}
{"time":"2025-08-20T15:17:04.61278-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).processEvent","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":697},"msg":"Tool call started","toolCall":{"id":"toolu_01NoH92VxPXENHCL1a6aRY1n","name":"view","input":"","type":"","finished":false}}
{"time":"2025-08-20T15:17:05.140278-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).processEvent","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":704},"msg":"Finished tool call","toolCall":{"id":"toolu_01NoH92VxPXENHCL1a6aRY1n","name":"","input":"","type":"","finished":false}}
{"time":"2025-08-20T15:17:05.145968-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T15:17:05.146045-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T15:17:05.146068-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T15:17:05.146088-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-opus-4-1-20250805","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:17:05.150014-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-20T15:17:06.863385-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).Cancel","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":246},"msg":"Request cancellation initiated","session_id":"0fed898b-c1a1-4ed2-8a08-30a1fd2c5667"}
{"time":"2025-08-20T15:17:06.863606-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).runWorkspaceWatcher","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":101},"msg":"Workspace watcher stopped","client":"Go"}
{"time":"2025-08-20T15:17:06.867198-04:00","level":"ERROR","source":{"function":"main.main.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/main.go","line":18},"msg":"Application terminated due to unhandled panic"}
{"time":"2025-08-20T15:18:56.330418-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":92},"msg":"Using cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-20T15:18:56.332059-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":96},"msg":"Updating provider cache in background"}
{"time":"2025-08-20T15:18:56.423059-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.saveProvidersInCache","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":41},"msg":"Saving cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-20T15:18:56.865544-04:00","level":"INFO","msg":"goose: no migrations to run. current version: 20250627000000"}
{"time":"2025-08-20T15:18:56.865806-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).initLSPClients","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":22},"msg":"LSP clients initialization started in background"}
{"time":"2025-08-20T15:18:56.86615-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":27},"msg":"Creating LSP client","name":"Go","command":"gopls","args":null}
{"time":"2025-08-20T15:18:56.869851-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:18:56.8699-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:18:56.869913-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:18:56.869959-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":177},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-20T15:18:56.87004-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":179},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-20T15:18:56.870914-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:18:56.870953-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:18:56.870965-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:18:56.870995-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/app.go","line":221},"msg":"Running in non-interactive mode"}
{"time":"2025-08-20T15:18:56.870983-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":177},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-20T15:18:56.871028-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":179},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-20T15:18:56.872307-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/app.go","line":257},"msg":"Created session for non-interactive run","session_id":"08f1c23a-fd44-4d91-86b7-8c291c11c7f8"}
{"time":"2025-08-20T15:18:56.873259-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T15:18:56.873293-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T15:18:56.873299-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T15:18:56.873305-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-opus-4-1-20250805","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:18:56.873625-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T15:18:56.873641-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T15:18:56.873649-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T15:18:56.873656-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-sonnet-4-20250514","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:18:56.875178-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-20T15:18:56.875984-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-20T15:18:56.969957-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).shouldRetry","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":614},"msg":"OAuth token expired, refreshing","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:18:56.970241-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).shouldRetry","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":619},"msg":"OAuth token refreshed successfully"}
{"time":"2025-08-20T15:18:56.970255-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:18:56.970279-04:00","level":"WARN","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).stream.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":578},"msg":"Retrying due to rate limit","attempt":1,"max_retries":1}
{"time":"2025-08-20T15:18:56.970293-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T15:18:56.970301-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T15:18:56.970307-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-20T15:18:56.970313-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-sonnet-4-20250514","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:18:56.97038-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-20T15:18:57.032872-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).shouldRetry","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":614},"msg":"OAuth token expired, refreshing","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:18:57.032992-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).shouldRetry","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":619},"msg":"OAuth token refreshed successfully"}
{"time":"2025-08-20T15:18:57.033001-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:18:57.033016-04:00","level":"WARN","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).stream.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":578},"msg":"Retrying due to rate limit","attempt":1,"max_retries":1}
{"time":"2025-08-20T15:18:57.033062-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T15:18:57.033072-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T15:18:57.033078-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T15:18:57.033084-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-opus-4-1-20250805","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:18:57.033864-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-20T15:18:57.470736-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":65},"msg":"LSP server is ready","name":"Go"}
{"time":"2025-08-20T15:18:57.470985-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":70},"msg":"LSP client initialized","name":"Go"}
{"time":"2025-08-20T15:19:00.060017-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).processEvent","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":697},"msg":"Tool call started","toolCall":{"id":"toolu_01QghGzxELYouT17qCnQ68hK","name":"view","input":"","type":"","finished":false}}
{"time":"2025-08-20T15:19:00.704951-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).processEvent","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":704},"msg":"Finished tool call","toolCall":{"id":"toolu_01QghGzxELYouT17qCnQ68hK","name":"","input":"","type":"","finished":false}}
{"time":"2025-08-20T15:19:01.008586-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T15:19:01.008635-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T15:19:01.008654-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-20T15:19:01.00868-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-opus-4-1-20250805","provider_id":"anthropic-max"}
{"time":"2025-08-20T15:19:01.011142-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-20T15:19:03.091172-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).Cancel","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":246},"msg":"Request cancellation initiated","session_id":"08f1c23a-fd44-4d91-86b7-8c291c11c7f8"}
{"time":"2025-08-20T15:19:03.091576-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).runWorkspaceWatcher","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":101},"msg":"Workspace watcher stopped","client":"Go"}
{"time":"2025-08-20T15:19:03.096131-04:00","level":"ERROR","source":{"function":"main.main.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/main.go","line":18},"msg":"Application terminated due to unhandled panic"}
{"time":"2025-08-21T14:04:00.525619-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":92},"msg":"Using cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-21T14:04:00.528481-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":96},"msg":"Updating provider cache in background"}
{"time":"2025-08-21T14:04:00.679035-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.saveProvidersInCache","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":41},"msg":"Saving cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-21T14:04:02.000186-04:00","level":"INFO","msg":"goose: no migrations to run. current version: 20250627000000"}
{"time":"2025-08-21T14:04:02.000325-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).initLSPClients","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":22},"msg":"LSP clients initialization started in background"}
{"time":"2025-08-21T14:04:02.000392-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":27},"msg":"Creating LSP client","name":"Go","command":"gopls","args":null}
{"time":"2025-08-21T14:04:02.008927-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:04:02.009219-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:04:02.009267-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:04:02.009365-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":177},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-21T14:04:02.009431-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":179},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-21T14:04:02.012231-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:04:02.012333-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:04:02.012367-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:04:02.012551-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/app.go","line":221},"msg":"Running in non-interactive mode"}
{"time":"2025-08-21T14:04:02.01259-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":177},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-21T14:04:02.012666-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":179},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-21T14:04:02.013964-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/app.go","line":257},"msg":"Created session for non-interactive run","session_id":"fc726ef5-3e5e-4fd8-9e5f-4ebc49c7e00b"}
{"time":"2025-08-21T14:04:02.016452-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-21T14:04:02.016482-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-21T14:04:02.016489-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-21T14:04:02.016494-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-opus-4-1-20250805","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:04:02.016631-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-21T14:04:02.016673-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-21T14:04:02.016691-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-21T14:04:02.016707-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-sonnet-4-20250514","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:04:02.017015-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-21T14:04:02.019009-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-21T14:04:02.274-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).shouldRetry","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":614},"msg":"OAuth token expired, refreshing","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:04:02.274438-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).shouldRetry","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":619},"msg":"OAuth token refreshed successfully"}
{"time":"2025-08-21T14:04:02.274492-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:04:02.274527-04:00","level":"WARN","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).stream.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":578},"msg":"Retrying due to rate limit","attempt":1,"max_retries":1}
{"time":"2025-08-21T14:04:02.274561-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-21T14:04:02.274583-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-21T14:04:02.274598-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-21T14:04:02.274614-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-sonnet-4-20250514","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:04:02.275224-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-21T14:04:02.326589-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).shouldRetry","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":614},"msg":"OAuth token expired, refreshing","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:04:02.326756-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).shouldRetry","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":619},"msg":"OAuth token refreshed successfully"}
{"time":"2025-08-21T14:04:02.326772-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:04:02.326788-04:00","level":"WARN","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).stream.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":578},"msg":"Retrying due to rate limit","attempt":1,"max_retries":1}
{"time":"2025-08-21T14:04:02.326833-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-21T14:04:02.326845-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-21T14:04:02.326851-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-21T14:04:02.326856-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-opus-4-1-20250805","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:04:02.329404-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-21T14:04:02.625757-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":65},"msg":"LSP server is ready","name":"Go"}
{"time":"2025-08-21T14:04:02.625852-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":70},"msg":"LSP client initialized","name":"Go"}
{"time":"2025-08-21T14:04:05.297921-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).processEvent","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":697},"msg":"Tool call started","toolCall":{"id":"toolu_01TJ6eEexuQsGJVRd3M4fTsg","name":"view","input":"","type":"","finished":false}}
{"time":"2025-08-21T14:04:05.820363-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).processEvent","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":704},"msg":"Finished tool call","toolCall":{"id":"toolu_01TJ6eEexuQsGJVRd3M4fTsg","name":"","input":"","type":"","finished":false}}
{"time":"2025-08-21T14:04:05.825687-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-21T14:04:05.825773-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-21T14:04:05.825797-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-21T14:04:05.825818-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-opus-4-1-20250805","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:04:05.8297-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-21T14:04:07.923019-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).Cancel","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":246},"msg":"Request cancellation initiated","session_id":"fc726ef5-3e5e-4fd8-9e5f-4ebc49c7e00b"}
{"time":"2025-08-21T14:04:07.923186-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).runWorkspaceWatcher","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":101},"msg":"Workspace watcher stopped","client":"Go"}
{"time":"2025-08-21T14:04:07.925442-04:00","level":"ERROR","source":{"function":"main.main.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/main.go","line":18},"msg":"Application terminated due to unhandled panic"}
{"time":"2025-08-21T14:09:22.133403-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":92},"msg":"Using cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-21T14:09:22.135247-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.loadProviders.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":96},"msg":"Updating provider cache in background"}
{"time":"2025-08-21T14:09:22.568746-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/config.saveProvidersInCache","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/config/provider.go","line":41},"msg":"Saving cached provider data","path":"/Users/lacy/.local/share/lash/providers.json"}
{"time":"2025-08-21T14:09:22.735333-04:00","level":"INFO","msg":"goose: no migrations to run. current version: 20250627000000"}
{"time":"2025-08-21T14:09:22.735489-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).initLSPClients","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":22},"msg":"LSP clients initialization started in background"}
{"time":"2025-08-21T14:09:22.73602-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":27},"msg":"Creating LSP client","name":"Go","command":"gopls","args":null}
{"time":"2025-08-21T14:09:22.74051-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:09:22.740728-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:09:22.740743-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:09:22.740975-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":177},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-21T14:09:22.741857-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":179},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-21T14:09:22.743454-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:09:22.74364-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:09:22.743663-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.createAnthropicClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":126},"msg":"Using Claude Code OAuth with custom transport","token_prefix":"Bearer sk-ant-oat01-...","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:09:22.743713-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/app.go","line":221},"msg":"Running in non-interactive mode"}
{"time":"2025-08-21T14:09:22.743714-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":177},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-21T14:09:22.743925-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.NewAgent.func1.1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":179},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-21T14:09:22.745019-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).RunNonInteractive","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/app.go","line":257},"msg":"Created session for non-interactive run","session_id":"1442c577-4a22-4326-b632-2258432388ab"}
{"time":"2025-08-21T14:09:22.746467-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-21T14:09:22.746838-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-21T14:09:22.746849-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-opus-4-1-20250805","model_name":"Claude Opus 4.1","model_type":"large"}
{"time":"2025-08-21T14:09:22.746856-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-opus-4-1-20250805","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:09:22.747473-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-21T14:09:22.747501-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":352},"msg":"Retrieved model for API call","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-21T14:09:22.747508-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.NewProvider.func1","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/provider.go","line":186},"msg":"Model resolved for provider","model_id":"claude-sonnet-4-20250514","model_name":"Claude Sonnet 4","model_type":"small"}
{"time":"2025-08-21T14:09:22.747515-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*anthropicClient).preparedMessages","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":404},"msg":"Preparing Anthropic API request","model_id":"claude-sonnet-4-20250514","provider_id":"anthropic-max"}
{"time":"2025-08-21T14:09:22.749374-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-21T14:09:22.750347-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/provider.(*oauthRoundTripper).RoundTrip","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/provider/anthropic.go","line":62},"msg":"OAuth request sending","url":"https://api.anthropic.com/v1/messages","headers":{"Accept":["application/json"],"Content-Type":["application/json"],"User-Agent":["Claude-Code-Max/1.0"],"anthropic-beta":["oauth-2025-04-20,claude-code-20250219,interleaved-thinking-2025-05-14,fine-grained-tool-streaming-2025-05-14"],"anthropic-version":["2023-06-01"],"authorization":["Bearer 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"]}}
{"time":"2025-08-21T14:09:22.966421-04:00","level":"ERROR","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":58},"msg":"Server failed to become ready","name":"Go","error":"timeout waiting for LSP server to be ready"}
{"time":"2025-08-21T14:09:22.966475-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).createAndStartLSPClient","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":70},"msg":"LSP client initialized","name":"Go"}
{"time":"2025-08-21T14:09:22.966867-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/llm/agent.(*agent).Cancel","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/llm/agent/agent.go","line":246},"msg":"Request cancellation initiated","session_id":"1442c577-4a22-4326-b632-2258432388ab"}
{"time":"2025-08-21T14:09:22.969809-04:00","level":"INFO","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).runWorkspaceWatcher","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/lsp.go","line":101},"msg":"Workspace watcher stopped","client":"Go"}
{"time":"2025-08-21T14:09:22.969884-04:00","level":"ERROR","source":{"function":"github.com/lacymorrow/lash/internal/app.(*App).Shutdown","file":"/Users/lacy/go/pkg/mod/github.com/lacymorrow/lash@v0.6.11/internal/app/app.go","line":452},"msg":"Failed to shutdown LSP client","name":"Go","error":"failed to send request: failed to write header: write |1: broken pipe"}
